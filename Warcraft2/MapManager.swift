//
//  MapManager.swift
//  Warcraft2
//
//  Created by Andrew van Tonningen on 1/19/17.
//  Copyright Â© 2017 UC Davis. All rights reserved.
//

import Foundation
import SpriteKit

class MapManager {

    var mapFileName = ".map"
    var mapTileTypes: [[TerrainManager.ETileType]] =
        Array(repeating: Array(repeating: .ttGrass, count: 20), count: 20)

    var sampleMapData = "Maze \n96 64\nGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\nGFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFG\nGFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFG\nGFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFG\nGFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFG\nGGGGGGGGGGGGGGGGGGFFFFFFFGGGGGGGGGGGGGGGGGGGGGGGGFFFFFFFFFGGGGGGGGGGGGGGGGGGFFFFFFFFGGGGGGGGGGGDRR\nGGGGGGWWWWWWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGFFFFGGGGGGGGGGGGGGGGGGGGGFFFFGGGGGGGGGGGGGGGDRR\nGGGGGGWGGGGGGGGGWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGFFFGGGGGGGGGGGGGGGGGGGFFFFGGGGGGGGGGGGGGGGGDRR\nGGGGGGWGGGGGGGGGWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGFFFFGGGGGGGGGGGGGGGGGDRR\nGGGGGGWGGWWWWWGGWGGGGGGGGGGGGGGGGGRRRRGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGDDDDDDGGGGGGGGGGGGGGDRR\nGGGGGGWGGWGGGWGGWGGGGGGGGGGGGGGGGRRRRGGGGGGGGGGGGGGGFFFFGGGGGGGGGGGGGGGGGDDDRRRDDGGGGGGGGGGGGGGDRR\nGGGGGGWGGWGGGWGGWGGGGGGGGGGGGGGGRRRGGGGGGGGGGGGGGGGFFFFFGGGGGGGGGGGGGGGGGGDDDRRRRDDGGGGGGGGGGGGDRR\nGGGGGGWGGWGGGWGGWGGGGGGGGGGGGGGGRRRGGGGGGGGGGGGGGGGGFFFFFGGGGGGGGGGGGGGGGGGGDDRRRRDDGGGGGGGGGGGDRR\nGGGGGGWGGGGGGWGGWGGGGGGGGGGGGGGGGRRRGGGGGGGGGGGGGGGGGFFFFFGGGGGGGGGGGGGGGGGGGDDRRRRDDGGGGGGGGGGDRR\nGGGGGGWGGGGGGWGGWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGFFFFGGGGGGGGGGGGGGGGGGGGDDRRRRDDGGGGGGGGDDRR\nGGGGGGWWWWWWWWGGWGGGGGGGGGGGRRRGGGGGGGGGGGGGGGGGGGGGGGFFFGGGGGGGGGGGGGGGGGGGGGGDDRRRRDDGGGGGGGDRRR\nGGGGGGGGGGGGGGGGWGGGGGGGGGGRRRRRRGGGGGGGGGGGGGGGGGGGFFFFFGGGGGGGGGGGGGGGGGGGGGGGDDRRRRDDDDDDDRRRRR\nGGGGGGGGGGGGGGGGWGGGGGGGGGRRRRRRRGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGDDDDRRRRRRRRRRRRRR\nGGGGGGGGGGGGGGGGGGGGGGGGGRRRRRRRGGGGGGGGGGGGGGGGRRRRRRRRRGGGGGGGGGGGGGGGGGGGGGGRRDDDDRRRRRRRRRRRRR\nGGGGGGGGGGGGGGGGGGGGGGGGGRRRRRRRGGGGGGGGGGGGGGRRRRRRRRRRRGGGGGGGGGGGGGGGGGGGGGGRRRDDDDRRRRRRRRRRRR\nGGGGGGGGGGGGGGGGGGGGGGGGRRRRRRRRRGGGGGGGGGGGGRRRRRRRRRRRRRGGGGGGGGGGGGGGGGGGGGGRRRRDDDDDRRRRRRRRRR\nRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRDDDDDRRRRRRRRRR\nRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRDDDDDRRRRRRRRRRR\nRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRDDDDDRRRRRRRRRRRR\nRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRDDDDDRRRRRRRRRRRRR\nRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRDDDDDRRRRRRRRRRRRRR\nRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRDDDDDRRRRRRRRRRRRRRR\nRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRDDRRRRRRRRRRRRRRRRRRRRRRRRRRRDDDDDRRRRRRRRRRRRRRRR\nRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRDDDDRRRRRRRRRRRRRRRRRRRRRRRRRDDDDDRRRRRRRRRRRRRRRRR\nRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRDDDDDDRRRRRRRRRRRRRRRRRRRRRRRDDDDDRRRRRRRRRRRRRRRRRR\nRRRRRRRRRRRRRRRRRRRRRDDDDDDRRRRRRRRRRRRRRRRRRDDDDDDDDRRRRRRRRRRRRRRRRRRRDDDDDDDRRRRRRRRRRRRRRRRRRR\nRRRRRRRRRRRRRRRRRRRRDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDRRRRRRRRRRRRRRRRRRRR\nRRRRRRRRRRRRRRRRRRRRDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDRRRRRRRRRRRRRRRRRRRR\nRRRRRRRRRRRRRRRRRRRRDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDRRRRRRRRRRRRRRRRRRRR\nRRRRRRRRRRRRRRRRRRRRDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDRRRRRRRRRRRRRRRRRRRR\nRRRRRRRRRRRRRRRRRRRDDDDDDDRRRRRRRRRRRRRRRRRRRDDDDDDDDRRRRRRRRRRRRRRRRRRDDDDDDRRRRRRRRRRRRRRRRRRRRR\nRRRRRRRRRRRRRRRRRRDDDDDRRRRRRRRRRRRRRRRRRRRRRRDDDDDDRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR\nRRRRRRRRRRRRRRRRRDDDDDRRRRRRRRRRRRRRRRRRRRRRRRRDDDDRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR\nRRRRRRRRRRRRRRRRDDDDDRRRRRRRRRRRRRRRRRRRRRRRRRRRDDRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR\nRRRRRRRRRRRRRRRDDDDDRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR\nRRRRRRRRRRRRRRDDDDDRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR\nRRRRRRRRRRRRRDDDDDRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR\nRRRRRRRRRRRRDDDDDRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR\nRRRRRRRRRRRDDDDDRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR\nRRRRRRRRRRRDDDDRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR\nRRRRRRRRRRDDDDDRRRRGGGGGGGGGGGGGGGGGGGGGGRRRRRRRRRRRRRGGGGGGGGGGGGGGGRRRRRRRRRGGGGGGGGGGGGGGGGGGGG\nRRRRRRRRRRRRDDDDRRRGGGGGGGGGGGGGGGGGGGGGGGRRRRRRRRRRRGGGGGGGGGGGGGGGGGRRRRRRRGGGGGGGGGGGGGGGGGGGGG\nRRRRRRRRRRRRRDDDDRRGGGGGGGGGGGGGGGGGGGGGGGGGRRRRRRRRRGGGGGGGGGGGGGGGGGRRRRRRRGGGGGGGGGGGGGGGGGGGGG\nRRRRRRRRRRRRRRDDDDGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRRRRRRRGGGGGGGGGGGGGGGGGGGGGG\nRRRRRDDDDDDDRRRRDDGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGFFFFFGGGGGGGGGGGGGGGGRRRRRRGGGGGGGGGGGGGGGGGGGGGGG\nRRRDDGGGGGGDDRRRRDDGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGFFFGGGGGGGGGGGGGGGGGGRRRGGGGGGGGGGGGGGGGGGGGGGGG\nRRDDGGGGGGGGDDRRRRDDGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGFFFFGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\nRRDGGGGGGGGGGDDRRRRDDGGGGGGGGGGGGGGGGGGGGGGGGGGGGFFFFFGGGGGGGGGGGGRRRGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\nRRDGGGGGGGGGGGDDRRRRDDGGGGGGGGGGGGGGGGGGGGGGGGGGFFFFFGGGGGGGGGGGGRRRGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\nRRDGGGGGGGGGGGGDDRRRRDDGGGGGGGGGGGGGGGGGGGGGGGGFFFFFGGGGGGGGGGGGGRRRGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\nRRDGGGGGGGGGGGGGDDRRRRDDGGGGGGGGGGGGGGGGGGGGGGGGFFFFGGGGGGGGGGGRRRRGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\nRRDGGGGGGGGGGGGGGDDDDDGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRRRRGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\nRRDGGGGGGGGGGGGGGGGFFFFGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\nRRDGGGGGGGGGGGGGGGGFFFFGGGGGGGGGGGGGGGGGGGGGGGGGFFFGGGGGGGGGGGGGGGGGGGGGGGFFFGGGGGGGGGGGGGGGGGGGGG\nRRDGGGGGGGGGGGGGGGFFFFGGGGGGGGGGGGGGGGGGGGGGGGGFFFFGGGGGGGGGGGGGGGGGGGGGGGFFFGGGGGGGGGGGGGGGGGGGGG\nRRDGGGGGGGGGGFFFFFFFFGGGGGGGGGGGGGGGGGGGGGGGGFFFFFFFFFGGGGGGGGGGGGGGGGGGGFFFFFFFGGGGGGGGGGGGGGGGGG\nGFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFG\nGFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFG\nGFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFG\nGFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFG\nGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG"

    // In future, will load .map file
    func loadMap() {
        let fileLines: [String] = self.sampleMapData.components(separatedBy: "\n")
        mapTileTypes = []

        for i in 3 ..< fileLines.count {
            let tileRow = fileLines[i].characters.map {
                TerrainManager.ETileType.getType(fromTileCharCode: $0)
            }
            mapTileTypes.append(tileRow)
        }
    }

    func mapXCount() -> Int {
        return mapTileTypes.count
    }

    func mapYCount() -> Int {
        return (mapXCount() == 0) ? 0 : mapTileTypes[0].count
    }
}
